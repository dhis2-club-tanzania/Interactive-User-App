<form [formGroup]="orgUnitForm">
  <div class="container">
    <div class="row">
      <div class="col-6">
        <h3>Data capture and maintainance organisation units</h3>
        <mat-form-field class="form-group">
          <input matInput placeholder="Search" formControlName="filter" />
        </mat-form-field>
      </div>

      <div class="col-6">
        <h3>Data output and analytic organisation units</h3>

        <mat-form-field class="form-group">
          <input matInput placeholder="Search" formControlName="filter" />
        </mat-form-field>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-6">
        <ngx-dhis2-org-unit-filter
          [orgUnitFilterConfig]="selectionFilterConfig.orgUnitFilterConfig"
          (orgUnitUpdate)="onOrganisationUnits($event, 'UPDATE')"
          (orgUnitClose)="onOrganisationUnits($event, 'CLOSE')"
        >
        </ngx-dhis2-org-unit-filter>
      </div>

      <div class="col-6">
        <ngx-dhis2-org-unit-filter
          [orgUnitFilterConfig]="selectionFilterConfig.orgUnitFilterConfig"
          (orgUnitUpdate)="onDataViewOrganisationUnits($event, 'UPDATE')"
          (orgUnitClose)="onDataViewOrganisationUnits($event, 'CLOSE')"
        >
        </ngx-dhis2-org-unit-filter>
      </div>
    </div>
  </div>
  <p class="texth">
    Selecting an organisation unit provides access to all units in the
    sub-hierarchy
  </p>

  <br /><br />

  <div class="container">
    <div class="row">
      <div class="col-6">
        <h3>Available dimension restrictions for data analytics</h3>
      </div>
      <div class="col-6">
        <h3>Selected dimension restrictions for data analytics</h3>
      </div>
    </div>
  </div>
  <mat-form-field style="width: 98%">
    <input
      matInput
      placeholder="Filter"
      formControlName="filter"
      (keyup)="onSearch()"
    />
  </mat-form-field>
  <div class="container">
    <div class="row">
      <div class="col-6">
        <div
          class="table-wrapper-scroll-y my-custom-scrollbar"
          style="width: 100%"
        >
          <table class="table table-bordered table-striped mb-0">
            <tbody>
              <tr
                *ngFor="
                  let dimension of userDimensions$
                    | async
                    | selectFilter: false
                    | filterByName: searchTerm
                "
              >
                <td (click)="onUpdateUserDimensionList($event, dimension)">
                  {{ dimension.name }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <button
          type="button"
          class="btn btn-warning"
          (click)="onAssignUserDimensionList($event, true)"
        >
          ASSIGN ALL
        </button>
      </div>

      <div class="col-6">
        <div
          class="table-wrapper-scroll-y my-custom-scrollbar"
          style="width: 100%"
        >
          <table class="table table-bordered table-striped mb-0">
            <tbody>
              <tr
                *ngFor="
                  let dimension of userDimensions$ | async | selectFilter: true
                "
              >
                <td (click)="onUpdateUserDimensionList($event, dimension)">
                  {{ dimension.name }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <button
          type="button"
          class="btn btn-warning"
          (click)="onAssignUserDimensionList($event, false)"
        >
          UNASSIGN ALL
        </button>
      </div>
    </div>
  </div>
  <br /><br />
  <div class="container">
    <button mat-button matStepperPrevious type="button" class="bsave">
      Back</button
    >&nbsp;&nbsp;
    <button mat-button class="bsave" (click)="onSubmit($event)">
      Save
    </button>
  </div>
</form>

<!-- (ngSubmit)="onSubmit()" -->
